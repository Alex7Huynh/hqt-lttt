<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" dir="ltr" xml:lang="vi" lang="vi"><head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<link rel="stylesheet" type="text/css" href="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/styles.css">
<link rel="stylesheet" type="text/css" href="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/styles_002.css">
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/yahoo-min.js"></script><script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/event-min.js"></script><script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/connection-min.js"></script><script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/swfobject.js"></script><script type="text/javascript">
  var flashversion = swfobject.getFlashPlayerVersion();
  YAHOO.util.Connect.asyncRequest('GET','http://courses.fit.hcmus.edu.vn/login/environment.php?sesskey=Ud5phbhFMr&amp;flashversion='+flashversion.major+'.'+flashversion.minor+'.'+flashversion.release);
</script>
<!--[if IE 7]>
    <link rel="stylesheet" type="text/css" href="http://courses.fit.hcmus.edu.vn/theme/standard/styles_ie7.css" />
<![endif]-->
<!--[if IE 6]>
    <link rel="stylesheet" type="text/css" href="http://courses.fit.hcmus.edu.vn/theme/standard/styles_ie6.css" />
<![endif]-->

<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/yahoo-min.js"></script>
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/event-min.js"></script>
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/dom-min.js"></script>
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/connection-min.js"></script>
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/json-min.js"></script>
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/rate_ajax.js"></script>

    <meta name="keywords" content="moodle, PTUDWEB-CNTN2008: Transaction và các vấn đề trong truy xuất DL đồng thời! ">
    <title>PTUDWEB-CNTN2008: Transaction và các vấn đề trong truy xuất DL đồng thời!</title>
    <link rel="shortcut icon" href="http://courses.fit.hcmus.edu.vn/theme/formal_white/favicon.ico">
    <!--<style type="text/css">/*<![CDATA[*/ body{behavior:url(http://courses.fit.hcmus.edu.vn/lib/csshover.htc);} /*]]>*/</style>-->

<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/javascript-static.js"></script>
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/javascript-mod.php"></script>
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/overlib.js"></script>
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/overlib_cssstyle.js"></script>
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/cookies.js"></script>
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/ufo.js"></script>
<script type="text/javascript" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/dropdown.js"></script>  

<script type="text/javascript" defer="defer">
//<![CDATA[
setTimeout('fix_column_widths()', 20);
//]]>
</script>
<script type="text/javascript">
//<![CDATA[
function openpopup(url, name, options, fullscreen) {
    var fullurl = "http://courses.fit.hcmus.edu.vn" + url;
    var windowobj = window.open(fullurl, name, options);
    if (!windowobj) {
        return true;
    }
    if (fullscreen) {
        windowobj.moveTo(0, 0);
        windowobj.resizeTo(screen.availWidth, screen.availHeight);
    }
    windowobj.focus();
    return false;
}

function uncheckall() {
    var inputs = document.getElementsByTagName('input');
    for(var i = 0; i < inputs.length; i++) {
        inputs[i].checked = false;
    }
}

function checkall() {
    var inputs = document.getElementsByTagName('input');
    for(var i = 0; i < inputs.length; i++) {
        inputs[i].checked = true;
    }
}

function inserttext(text) {
  text = ' ' + text + ' ';
  if ( opener.document.forms['theform'].message.createTextRange && opener.document.forms['theform'].message.caretPos) {
    var caretPos = opener.document.forms['theform'].message.caretPos;
    caretPos.text = caretPos.text.charAt(caretPos.text.length - 1) == ' ' ? text + ' ' : text;
  } else {
    opener.document.forms['theform'].message.value  += text;
  }
  opener.document.forms['theform'].message.focus();
}

function getElementsByClassName(oElm, strTagName, oClassNames){
	var arrElements = (strTagName == "*" && oElm.all)? oElm.all : oElm.getElementsByTagName(strTagName);
	var arrReturnElements = new Array();
	var arrRegExpClassNames = new Array();
	if(typeof oClassNames == "object"){
		for(var i=0; i<oClassNames.length; i++){
			arrRegExpClassNames.push(new RegExp("(^|\\s)" + oClassNames[i].replace(/\-/g, "\\-") + "(\\s|$)"));
		}
	}
	else{
		arrRegExpClassNames.push(new RegExp("(^|\\s)" + oClassNames.replace(/\-/g, "\\-") + "(\\s|$)"));
	}
	var oElement;
	var bMatchesAll;
	for(var j=0; j<arrElements.length; j++){
		oElement = arrElements[j];
		bMatchesAll = true;
		for(var k=0; k<arrRegExpClassNames.length; k++){
			if(!arrRegExpClassNames[k].test(oElement.className)){
				bMatchesAll = false;
				break;
			}
		}
		if(bMatchesAll){
			arrReturnElements.push(oElement);
		}
	}
	return (arrReturnElements)
}
//]]>
</script>
</head>

<body class="mod-forum course-1085 dir-ltr lang-vi_utf8" id="mod-forum-discuss">

<div id="page">

    <div id="header" class=" clearfix">        <h1 class="headermain"><a href="http://courses.fit.hcmus.edu.vn/"><img alt="Moodle" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/logo_small.gif"></a></h1>
        <div class="headermenu"><div class="navigation">
<ul><li><form action="http://courses.fit.hcmus.edu.vn/course/jumpto.php" method="get" id="navmenupopup" class="popupform"><div><select id="navmenupopup_jump" name="jump" onchange="self.location=document.getElementById('navmenupopup').jump.options[document.getElementById('navmenupopup').jump.selectedIndex].value;">
   <option value="http://courses.fit.hcmus.edu.vn/mod/forum/view.php?id=44959" selected="selected" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/forum/icon.gif&quot;);">Chuyển tới...</option>
   <optgroup label=" Thông báo ">   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=47147" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Danh sách nhóm (17/03/2011)</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=47148" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Điểm bài tập Hosting</option>
   </optgroup>   <optgroup label=" Bài tập Đồ án ">   <option value="http://courses.fit.hcmus.edu.vn/mod/choice/view.php?id=44917" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/choice/icon.gif&quot;);">Link Đăng ký nhóm (Deadline 23h55 07/03/2011)</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=44989" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Mẫu file excel đánh giá thành viên trong nhóm</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/assignment/view.php?id=48028" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/assignment/icon.gif&quot;);">Link nộp Thiết kế CSDL (Deadline 23h55 27/04/2011)</option>
   </optgroup>   <optgroup label=" Seminar ">   <option value="http://courses.fit.hcmus.edu.vn/mod/forum/view.php?id=44983" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/forum/icon.gif&quot;);">Diễn đàn post tài liệu seminar của các nhóm</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=44987" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Mẫu phiếu đánh giá nhóm seminar (Dành cho người dự...</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=44988" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Mẫu Phiếu tổng hợp đánh giá seminar (Dành cho nhóm...</option>
   </optgroup>   <optgroup label=" Tài liệu môn học ">   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=45669" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Gợi ý danh sách các chủ đề cần tham khảo cho môn học</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=46384" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Phân công Đề tài Seminar và Đồ án</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=46569" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Link download tài liệu môn học (slides, demo, video)</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=45668" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Tài liệu bài giảng trên lớp</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=46346" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Tài liệu tham khảo</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=44978" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Link tham khảo cách thiết kế website sử dụng Photoshop</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=44979" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Link tạo Color Scheme Design</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=44981" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Link hỗ trợ tự học HTML, CSS, Javascript</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=44980" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Link download một số Free Website Templates</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=46305" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Các bài hướng dẫn chuyển PSD sang HTML và CSS</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=46306" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Các bài hướng dẫn thiết kế web layout bằng Photoshop</option>
   <option value="http://courses.fit.hcmus.edu.vn/mod/resource/view.php?id=44982" style="background-image: url(&quot;http://courses.fit.hcmus.edu.vn/mod/resource/icon.gif&quot;);">Link tham khảo học ASP.NET</option>
    </optgroup></select><input name="sesskey" value="Ud5phbhFMr" type="hidden"><div id="noscriptnavmenupopup" style="display: none;"><input value="Xem" type="submit"></div><script type="text/javascript">
//<![CDATA[
document.getElementById("noscriptnavmenupopup").style.display = "none";
//]]>
</script></div></form></li><li><form action="http://courses.fit.hcmus.edu.vn/mod/resource/view.php" onclick="this.target='_top';"><fieldset class="invisiblefieldset"><input name="id" value="47147" type="hidden"><button type="submit" title="Hoạt động tới"><span class="accesshide ">Hoạt động tới&nbsp;</span><span class="arrow ">►</span></button></fieldset></form></li></ul>
</div></div>
    </div>    <div class="navbar clearfix">
        <div class="breadcrumb"><h2 class="accesshide ">Bạn đang ở đây</h2> <ul>
<li class="first"><a onclick="this.target='_top'" href="http://courses.fit.hcmus.edu.vn/">CNTT</a></li><li> <span class="accesshide ">/&nbsp;</span><span class="arrow sep">►</span> <a onclick="this.target='_top'" href="http://courses.fit.hcmus.edu.vn/course/view.php?id=1085">PTUDWEB-CNTN2008</a></li><li> <span class="accesshide ">/&nbsp;</span><span class="arrow sep">►</span> <a onclick="this.target='_top'" href="http://courses.fit.hcmus.edu.vn/mod/forum/index.php?id=1085">Diễn đàn </a></li><li> <span class="accesshide ">/&nbsp;</span><span class="arrow sep">►</span> <a onclick="this.target='_top'" href="http://courses.fit.hcmus.edu.vn/mod/forum/view.php?id=44959">Diễn đàn trao đổi thảo luận</a></li><li> <span class="accesshide ">/&nbsp;</span><span class="arrow sep">►</span> Transaction và các vấn đề trong truy xuất DL đồng thời!</li></ul></div>
        <div class="navbutton"><div class="forumsearch"><form action="http://courses.fit.hcmus.edu.vn/mod/forum/search.php" style="display:inline"><fieldset class="invisiblefieldset"><span class="helplink"><a title="Help with Tìm kiếm (new window)" href="http://courses.fit.hcmus.edu.vn/help.php?module=moodle&amp;file=search.html&amp;forcelang=vi_utf8" onclick="this.target='popup'; return openpopup('/help.php?module=moodle&amp;file=search.html&amp;forcelang=vi_utf8', 'popup', 'menubar=0,location=0,scrollbars,resizable,width=500,height=400', 0);"><img class="iconhelp" alt="Help with Tìm kiếm (new window)" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/help.gif"></a></span><input name="search" size="18" alt="search" type="text"><input value=" Tìm kiếm " type="submit"><input name="id" value="1085" type="hidden"></fieldset></form></div></div>
    </div>
    <!-- END OF HEADER -->
    <div id="content"><table class="discussioncontrols" width="100%"><tbody><tr><td></td><td><form action="http://courses.fit.hcmus.edu.vn/course/jumpto.php" method="get" id="mode" class="popupform"><div><select id="mode_jump" name="jump" onchange="self.location=document.getElementById('mode').jump.options[document.getElementById('mode').jump.selectedIndex].value;">
   <option value="discuss.php?d=74914&amp;mode=1"> Lần gửi đầu tiên </option>
   <option value="discuss.php?d=74914&amp;mode=-1"> Lần gửi cuối cùng </option>
   <option value="discuss.php?d=74914&amp;mode=2"> Hiển thị phúc đáp một cách tuần tự</option>
   <option value="discuss.php?d=74914&amp;mode=3" selected="selected"> Hiển thị phúc đáp theo kiểu  cấu trúc</option>
</select><input name="sesskey" value="Ud5phbhFMr" type="hidden"><div id="noscriptmode" style="display: none;"><input value="Xem" type="submit"></div><script type="text/javascript">
//<![CDATA[
document.getElementById("noscriptmode").style.display = "none";
//]]>
</script></div></form></td><td></td></tr></tbody></table><a name="unread"></a><a id="p264147"></a><table class="forumpost unread" cellspacing="0"><tbody><tr class="header"><td class="picture left"><a href="http://courses.fit.hcmus.edu.vn/user/view.php?id=14482&amp;course=1085"><img class="userpicture" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/f2.jpg" alt="Picture of Trần Phú" width="35" height="35"></a></td><td class="topic starter"><div class="subject">Transaction và các vấn đề trong truy xuất DL đồng thời!</div><div class="author">Bởi <a href="http://courses.fit.hcmus.edu.vn/user/view.php?id=14482&amp;course=1085">Trần Phú</a> - Thứ bảy,  16 Tháng tư 2011, 02:51 PM</div></td></tr><tr><td class="left side">&nbsp;</td><td class="content">
<div class="posting"> Thấy nhiều bạn hỏi về chủ đề này, nên mình xin trình bày những gì mình được học để các bạn rõ ràng hơn!<br><span style="font-weight: bold; color: rgb(0, 0, 255);">Đầu tiên, cần hiểu rõ transaction là gì?</span><span style="font-family: arial;"><span style="font-weight: bold;"><br>Transaction:</span> là <span style="text-decoration: underline;">một đơn vị xử lý </span>nguyên tố gồm <span style="text-decoration: underline;">một chuỗi các hành động</span> thao tác trên CSDL</span>
<p class="MsoNormal"><span style="font-family: arial;"><span style="text-decoration: underline;">Các tính chất của Giao tác (Transaction):</span> 4 Tính chất gọi tắt là ACID</span></p>
<p class="MsoNormal" style="margin-left: 40px;"><span style="font-family: arial;">- <span style="color: rgb(153, 0, 51);">Nguyên tố </span>(<span style="text-decoration: underline;">A</span>tomicity)
 ko thể phân chia được nữa. Các hành động trong transaction sẽ hoặc là 
được thực thi hết hoặc là ko thực thi bất kỳ hành động nào</span></p>
<p class="MsoNormal" style="margin-left: 40px;"><span style="font-family: arial;"><span style="font-style: italic;">Ví
 dụ: Giao tác chuyển tiền từ tài khoản A vào tài khoản B. Giả sử giao 
tác này có các hành động. tra cứu số tài khoản, đọc số dư, nhập số tiền 
cần chuyển, trừ số tiền chuyển trên số dư tài khoản A, cộng thêm vào số 
dư tài khoản B. Kết thúc. </span><span style="font-style: italic;">Như vậy nếu </span><b style="font-style: italic;">giao tác thành công</b><span style="font-style: italic;">
 thì số dư của A sẽ bị trừ và cộng vào tài khoản B. Nhưng do trục trặc 
gì đó, sau khi trừ tài khoản A đã thành công thì cúp điện, chưa cộng vào
 tài khoản B. Trường hợp này, DBMS sẽ undo lại mọi hành động trước đó 
(phục hồi lại số dư ban đầu của A)</span></span></p>
<p class="MsoNormal" style="margin-left: 40px;"><span style="font-family: arial;">- <span style="color: rgb(153, 0, 0);">Nhất quán</span> (<span style="text-decoration: underline;">C</span>onsistency): khi giao tác kết thúc (thành công hay thất bại), CSDL phải ở trạng thái nhất quán –tức là đảm bảo các RBTV</span></p>
<p class="MsoNormal" style="margin-left: 40px;"><span style="font-family: arial;"><span style="font-style: italic;">Ví
 dụ: Đăng ký học phần, số tín chỉ tối đa mà mỗi SV được phép đký là 30. 
Khi SV đăng ký và nhấn Submit (kết thúc giao tác) thì kết quả đăng ký 
phải đảm bảo rằng số tín chỉ mà SV đó phải &lt;= 30</span></span></p>
<p class="MsoNormal" style="margin-left: 40px;"><span style="font-family: arial;"><span style="color: rgb(153, 0, 0);">- Cô lập</span> (<span style="text-decoration: underline;">I</span>solation): Một giao tác không quan tâm đến các giao tác khác xử lý đồng thời với nó</span></p>
<p class="MsoNormal" style="margin-left: 40px;"><span style="font-family: arial;"><span style="font-style: italic;">Ví
 dụ: Ta có 2 giao tác. Đếm sỉ số lớp và Thêm (bớt) sinh viên. Việc thực 
hiện 2 giao tác này sẽ độc lập và không quan tâm đến giao tác kia để 
tránh hiện tượng bóng ma (Phantom)</span></span></p>
<p class="MsoNormal" style="margin-left: 40px;"><span style="font-family: arial;">- <span style="color: rgb(153, 0, 0);">Bền vững </span>(<span style="text-decoration: underline;">D</span>urability): Mọi thay đổi mà giao tác thực<span> </span>hiện trên CSDL, phải được ghi nhận bền vững vào thiết bị lưu trữ (đĩa)</span></p>
<p class="MsoNormal" style="margin-left: 40px;"><span style="font-family: arial;"><span style="font-style: italic;">(Cái
 này thì dễ hiểu rồi. Khi transaction kết thúc mà nó có thay đổi dữ liệu
 (insert, update , delete) thì phải được ghi nhận lên đĩa)</span></span></p>
<p class="MsoNormal" style="margin-left: 40px;">(...to be continued! )<br></p><span style="font-family: arial;"></span> </div><div class="commands"><a href="http://courses.fit.hcmus.edu.vn/mod/forum/post.php?reply=264147"> Phúc đáp</a></div></td></tr></tbody></table>

<div class="indent"><a name="unread"></a><a id="p264160"></a><table class="forumpost unread" cellspacing="0"><tbody><tr class="header"><td class="picture left"><a href="http://courses.fit.hcmus.edu.vn/user/view.php?id=14482&amp;course=1085"><img class="userpicture" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/f2.jpg" alt="Picture of Trần Phú" width="35" height="35"></a></td><td class="topic"><div class="subject">Trả lời: Transaction và các vấn đề trong truy xuất DL đồng thời!</div><div class="author">Bởi <a href="http://courses.fit.hcmus.edu.vn/user/view.php?id=14482&amp;course=1085">Trần Phú</a> - Thứ bảy,  16 Tháng tư 2011, 04:14 PM</div></td></tr><tr><td class="left side">&nbsp;</td><td class="content">
<div class="posting"> <span style="color: rgb(0, 0, 255); font-weight: bold;">Tiếp theo, các vấn đề truy xuất dữ liệu đồng thời!</span><br>
<ol style="margin-top: 0in;" start="1" type="1">
  <li class="MsoNormal" style="color: red;"><b><span style="font-family: arial;">Lost Update:</span></b></li>
</ol>
<p class="MsoNormal" style="margin-left: 0.75in; text-indent: -0.25in;"><span style="font-family: arial;"><span>-<span> </span></span></span><span style="font-family: arial;">Xảy
 ra khi hai hoặc nhiều transaction select một dòng giống nhau và update 
giá trị của dòng đó. Mỗi transaction sẽ không quan tâm đến transaction 
khác. Transaction sau sẽ overwrite lên transaction trước. </span></p>
<p class="MsoNormal" style="margin-left: 0.75in; text-indent: -0.25in;"><span style="font-family: arial;"><span>-<span> </span></span></span><span style="font-family: arial;">Ví dụ:</span></p>
<table class="MsoTableGrid" style="border: medium none; width: 441pt; margin-left: 41.4pt; border-collapse: collapse;" width="588" border="1" cellpadding="0" cellspacing="0"> <tbody>
  <tr>
    <td style="border: 1pt solid windowtext; padding: 0in 5.4pt; background: none repeat scroll 0% 0% rgb(230, 230, 230); width: 3in; -moz-background-inline-policy: continuous;" valign="top" width="288">
      <p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: arial;">T1</span></p>
    </td>
    <td style="border-style: solid solid solid none; border-color: windowtext windowtext windowtext -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0in 5.4pt; background: none repeat scroll 0% 0% rgb(230, 230, 230); width: 225pt; -moz-background-inline-policy: continuous;" valign="top" width="300">
      <p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: arial;">T2</span></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 3in;" valign="top" width="288">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SELECT</span><span style="font-family: arial;"> LƯƠNG</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">FROM</span><span style="font-family: arial;"> NHÂN_VIÊN</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> ID = ‘0812391’</span></p>
      <p class="MsoNormal"><i><span style="font-family: arial; color: red;">Kết quả là 5000</span></i></p>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 225pt;" valign="top" width="300">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SELECT</span><span style="font-family: arial;"> LƯƠNG</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">FROM</span><span style="font-family: arial;"> NHÂN_VIÊN</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> ID = ‘0812391’</span></p>
      <p class="MsoNormal"><span style="font-family: arial;">Kết quả là 5000</span></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 3in;" valign="top" width="288">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 225pt;" valign="top" width="300">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">UPDATE</span><span style="font-family: arial;"> NHÂN_VIÊN </span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SET</span><span style="font-family: arial;"> LƯƠNG = LƯƠNG + 1000</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> ID = ‘0812391’</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">COMMIT</span></p>
      <p class="MsoNormal"><i><span style="font-family: arial; color: red;">Kết quả: 6000</span></i></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 3in;" valign="top" width="288">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">UPDATE</span><span style="font-family: arial;"> NHÂN_VIÊN </span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SET</span><span style="font-family: arial;"> LƯƠNG = LƯƠNG + 2000</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> ID = ‘0812391’</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">COMMIT</span></p>
      <p class="MsoNormal"><i><span style="font-family: arial; color: red;">Kết quả: 7000</span></i></p>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 225pt;" valign="top" width="300">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
  </tr>
  <tr>
    <td colspan="2" style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 441pt;" valign="top" width="588">
      <p class="MsoNormal"><span style="font-family: arial;">Vì T ko biết là T2 đã cập nhật (do cô lập mà) nên sau khi thực hiện T1 sẽ overwrite lên giá trị của T2</span><span style="font-family: wingdings;"><span> --&gt; </span></span><span style="font-family: arial;">mất . </span></p>
      <p class="MsoNormal"><span style="font-family: arial;">Kết quả cuối cùng là 7000</span></p>
    </td>
  </tr> </tbody>
</table>
<p class="MsoNormal" style="margin-left: 0.25in;"><span style="font-family: arial;"> </span></p>
<ol style="margin-top: 0in;" start="2" type="1">
  <li class="MsoNormal" style="color: red;"><b><span style="font-family: arial;">Dirty Read (READ UNCOMMITTED)</span></b></li>
</ol>
<p class="MsoNormal" style="margin-left: 0.75in; text-indent: -0.25in;"><span style="font-family: arial;"><span>-<span> </span></span></span><span style="font-family: arial;">Xảy ra khi một transaction đọc dữ liệu mà dữ liệu này đang bị thay đổi (modify) bởi một transaction khác mà chưa được commit.</span></p>
<p class="MsoNormal" style="margin-left: 0.75in; text-indent: -0.25in;"><span style="font-family: arial;"><span>-<span> </span></span></span><span style="font-family: arial;">Ví dụ:</span></p>
<table class="MsoTableGrid" style="border: medium none; width: 6.15in; margin-left: 0.5in; border-collapse: collapse;" width="590" border="1" cellpadding="0" cellspacing="0"> <tbody>
  <tr>
    <td style="border: 1pt solid windowtext; padding: 0in 5.4pt; background: none repeat scroll 0% 0% rgb(230, 230, 230); width: 221.4pt; -moz-background-inline-policy: continuous;" valign="top" width="295">
      <p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: arial;">T1</span></p>
    </td>
    <td style="border-style: solid solid solid none; border-color: windowtext windowtext windowtext -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0in 5.4pt; background: none repeat scroll 0% 0% rgb(230, 230, 230); width: 221.4pt; -moz-background-inline-policy: continuous;" valign="top" width="295">
      <p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: arial;">T2</span></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SELECT</span><span style="font-family: arial;"> LƯƠNG</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">FROM</span><span style="font-family: arial;"> NHÂN_VIÊN </span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> ID = ‘0812391’</span></p>
      <p class="MsoNormal"><i><span style="font-family: arial; color: red;">Kết quả: 5000</span></i></p>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">UPDATE</span><span style="font-family: arial;"> NHÂN_VIÊN</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SET</span><span style="font-family: arial;"> LƯƠNG = LƯƠNG + 1000</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> ID = ‘0812391’</span></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SELECT</span><span style="font-family: arial;"> LƯƠNG</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">FROM</span><span style="font-family: arial;"> NHÂN_VIÊN </span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> ID = ‘0812391’</span></p>
      <p class="MsoNormal"><i><span style="font-family: arial; color: red;">Kết quả: 6000</span></i></p>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">ROLLBACK</span></p>
    </td>
  </tr>
  <tr>
    <td colspan="2" style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 6.15in;" valign="top" width="590">
      <p class="MsoNormal"><span style="font-family: arial;">Giả sử rằng T1 sẽ cập nhật lương nữa (Set lương = Lương + 1000). Trong khi T2 đã bị rollback (trả về Lương 5000) </span><span style="font-family: wingdings;"><span>à</span></span><span style="font-family: arial;"> Nếu đúng thì T phải cho kết quả là 6000 nhưng do đọc dữ liệu chưa commit nó sẽ cho kết quả lương là 7000. Ko hợp lý</span></p>
    </td>
  </tr> </tbody>
</table>
<p class="MsoNormal" style="margin-left: 0.25in;"><span style="font-family: arial;"> </span></p>
<ol style="margin-top: 0in;" start="3" type="1">
  <li class="MsoNormal" style="color: red;"><b><span style="font-family: arial;">Non- repeatable Read:</span></b></li>
</ol>
<p class="MsoNormal" style="margin-left: 0.75in; text-indent: -0.25in;"><span style="font-family: arial;"><span>-<span> </span></span></span><span style="font-family: arial;">Một
 transaction có n hành động đọc (read). Non-repeatable Read xảy ra nếu 
các kết quả đọc của các hành đọc đọc này khác nhau (trong cùng 
transaction).<span> </span>Tổng quát, lỗi này xảy ra khi một transaction đang đọc dữ liệu mà dữ liệu đang bị modify bởi các transaction khác.</span></p>
<p class="MsoNormal" style="margin-left: 0.75in; text-indent: -0.25in;"><span style="font-family: arial;"><span>-<span> </span></span></span><span style="font-family: arial;">Ví du:</span></p>
<table class="MsoTableGrid" style="border: medium none; width: 6.15in; margin-left: 0.5in; border-collapse: collapse;" width="590" border="1" cellpadding="0" cellspacing="0"> <tbody>
  <tr>
    <td style="border: 1pt solid windowtext; padding: 0in 5.4pt; background: none repeat scroll 0% 0% rgb(230, 230, 230); width: 221.4pt; -moz-background-inline-policy: continuous;" valign="top" width="295">
      <p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: arial;">T1</span></p>
    </td>
    <td style="border-style: solid solid solid none; border-color: windowtext windowtext windowtext -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0in 5.4pt; background: none repeat scroll 0% 0% rgb(230, 230, 230); width: 221.4pt; -moz-background-inline-policy: continuous;" valign="top" width="295">
      <p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: arial;">T2</span></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SELECT</span><span style="font-family: arial;"> LƯƠNG</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">FROM</span><span style="font-family: arial;"> NHÂNVIÊN</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> ID = ‘0812391’</span></p>
      <p class="MsoNormal"><i><span style="font-family: arial; color: red;">Kết quả: 5000</span></i></p>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">UPDATE</span><span style="font-family: arial;"> NHÂN_VIÊN</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SET</span><span style="font-family: arial;"> LƯƠNG = LƯƠNG + 1000</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> ID = ‘0812391’</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">COMMIT</span></p>
      <p class="MsoNormal"><i><span style="font-family: arial; color: red;">Kết quả: 6000</span></i></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SELECT</span><span style="font-family: arial;"> LƯƠNG</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">FROM</span><span style="font-family: arial;"> NHÂNVIÊN</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> ID = ‘0812391’</span></p>
      <p class="MsoNormal"><i><span style="font-family: arial; color: red;">Kết quả: 6000</span></i></p>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
  </tr>
  <tr>
    <td colspan="2" style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 6.15in;" valign="top" width="590">
      <p class="MsoNormal"><span style="font-family: arial;">Hai lần đọc kết quả khác nhau</span></p>
    </td>
  </tr> </tbody>
</table>
<p class="MsoNormal" style="margin-left: 0.75in;"><span style="font-family: arial;"> </span></p>
<ol style="margin-top: 0in;" start="4" type="1">
  <li class="MsoNormal" style="color: red;"><b><span style="font-family: arial;">Phantom Read:</span></b></li>
</ol>
<p class="MsoNormal" style="margin-left: 0.25in;"><span style="font-family: arial;">- Xảy ra khi một transaction có 2 hành động đọc, và số lượng dòng ở mỗi lần đọc khác nhau.</span></p>
<p class="MsoNormal" style="margin-left: 0.25in;"><span style="font-family: arial;">- Ví dụ:</span></p>
<table class="MsoTableGrid" style="border: medium none; width: 6.15in; margin-left: 0.5in; border-collapse: collapse;" width="590" border="1" cellpadding="0" cellspacing="0"> <tbody>
  <tr>
    <td style="border: 1pt solid windowtext; padding: 0in 5.4pt; background: none repeat scroll 0% 0% rgb(230, 230, 230); width: 221.4pt; -moz-background-inline-policy: continuous;" valign="top" width="295">
      <p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: arial;">T1</span></p>
    </td>
    <td style="border-style: solid solid solid none; border-color: windowtext windowtext windowtext -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0in 5.4pt; background: none repeat scroll 0% 0% rgb(230, 230, 230); width: 221.4pt; -moz-background-inline-policy: continuous;" valign="top" width="295">
      <p class="MsoNormal" style="text-align: center;" align="center"><span style="font-family: arial;">T2</span></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SELECT</span><span style="font-family: arial;"> * </span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">FROM</span><span style="font-family: arial;"> NHÂN_VIÊN</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> TUỔI <span style="color: blue;">BETWEEN</span> 20 <span style="color: blue;">AND</span> 30</span></p>
      <p class="MsoNormal"><i><span style="font-family: arial; color: red;">Kết quả là: 10 dòng</span></i></p>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">INSERT</span><span style="font-family: arial;"> <span style="color: blue;">INTO</span> NHÂN_VIÊN </span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">VALUES</span><span style="font-family: arial;"> (‘0812999’,’Trần Văn A’,25,4000)</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">COMMIT</span></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">SELECT</span><span style="font-family: arial;"> * </span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">FROM</span><span style="font-family: arial;"> NHÂN_VIÊN</span></p>
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">WHERE</span><span style="font-family: arial;"> TUỔI <span style="color: blue;">BETWEEN</span> 20 <span style="color: blue;">AND</span> 30</span></p>
      <p class="MsoNormal"><i><span style="font-family: arial; color: red;">Kết quả là: 11 dòng</span></i></p>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;"> </span></p> <br>
    </td>
  </tr>
  <tr>
    <td colspan="2" style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 6.15in;" valign="top" width="590">
      <p class="MsoNormal"><span style="font-family: arial;">Đọc 2 lần khác nhau (Chú ý ở đây là số lượng dòng)</span></p>
    </td>
  </tr> </tbody>
</table>
<p class="MsoNormal" style="margin-left: 0.25in;"><span style="font-family: arial;"> </span></p>
<ol style="margin-top: 0in;" start="5" type="1">
  <li class="MsoNormal" style="color: red;"><b><span style="font-family: arial;">DeadLock:</span></b></li>
</ol>
<p class="MsoNormal" style="margin-left: 0.75in; text-indent: -0.25in;"><span style="font-family: arial;"><span>-<span> </span></span></span><span style="font-family: arial;">Có 2 transaction. Mỗi<span> </span>transaction
 khóa (lock) dữ liệu (mà nó đang thao tác) nhưng lại chờ xin khóa dữ 
liệu của transaction còn lại. Hai bên chờ nhau mãi.Trong trường hợp này 
chỉ có Admin vào can thiệp để skill một giao tác</span></p>
<p class="MsoNormal" style="margin-left: 0.75in; text-indent: -0.25in;"><span style="font-family: arial;"><span>-<span> </span></span></span><span style="font-family: arial;">Ví dụ:</span></p><br>
 &lt;!-- /* Font Definitions */ @font-face {font-family:Wingdings; 
panose-1:5 0 0 0 0 0 0 0 0 0; mso-font-charset:2; 
mso-generic-font-family:auto; mso-font-pitch:variable; 
mso-font-signature:0 268435456 0 0 -2147483648 0;} /* Style Definitions 
*/ p.MsoNormal, li.MsoNormal, div.MsoNormal {mso-style-parent:""; 
margin:0in; margin-bottom:.0001pt; mso-pagination:widow-orphan; 
font-size:12.0pt; font-family:"Times New Roman"; 
mso-fareast-font-family:"Times New Roman";} @page Section1 {size:8.5in 
11.0in; margin:1.0in 1.25in 1.0in 1.25in; mso-header-margin:.5in; 
mso-footer-margin:.5in; mso-paper-source:0;} div.Section1 
{page:Section1;} --&gt; 
<table style="border: medium none; width: 6.15in; margin-left: 0.5in; border-collapse: collapse;" class="MsoTableGrid" width="590" border="1" cellpadding="0" cellspacing="0"> <tbody>
  <tr>
    <td style="border: 1pt solid windowtext; padding: 0in 5.4pt; background: none repeat scroll 0% 0% rgb(230, 230, 230); width: 221.4pt; -moz-background-inline-policy: continuous;" valign="top" width="295">
      <p style="text-align: center;" class="MsoNormal" align="center"><span style="font-family: arial;">T1</span></p>
    </td>
    <td style="border-style: solid solid solid none; border-color: windowtext windowtext windowtext -moz-use-text-color; border-width: 1pt 1pt 1pt medium; padding: 0in 5.4pt; background: none repeat scroll 0% 0% rgb(230, 230, 230); width: 221.4pt; -moz-background-inline-policy: continuous;" valign="top" width="295">
      <p style="text-align: center;" class="MsoNormal" align="center"><span style="font-family: arial;">T2</span></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">Lock</span><span style="font-family: arial;">(A)</span></p>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial; color: blue;">Lock</span><span style="font-family: arial;">(B)</span></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;">T1 muốn xử lý trên B nên xin lock B mà B đang bị lock bởi T2 </span><span style="font-family: wingdings;"><span>à</span></span><span style="font-family: arial;"> Chờ</span></p>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;">T2 muốn xử lý trên A nên xin lock A mà A đang bị lock bởi T1 </span><span style="font-family: wingdings;"><span>à</span></span><span style="font-family: arial;"> Chờ</span></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;">…… Waiting for T2<span>&nbsp;</span>….</span></p>
    </td>
    <td style="border-style: none solid solid none; border-color: -moz-use-text-color windowtext windowtext -moz-use-text-color; border-width: medium 1pt 1pt medium; padding: 0in 5.4pt; width: 221.4pt;" valign="top" width="295">
      <p class="MsoNormal"><span style="font-family: arial;">….. Waiting for T1…..</span></p>
    </td>
  </tr>
  <tr>
    <td style="border-style: none solid solid; border-color: -moz-use-text-color windowtext windowtext; border-width: medium 1pt 1pt; padding: 0in 5.4pt; width: 6.15in;" colspan="2" valign="top" width="590">
      <p style="text-align: center;" class="MsoNormal" align="center"><span style="font-family: arial; color: blue;">exhausted and die - cần admin can thiệp</span></p>
    </td>
  </tr> </tbody>
</table>
<p style="margin-left: 0.75in;" class="MsoNormal"><span style="font-family: arial;"> </span></p>
<p style="margin-left: 0.75in;" class="MsoNormal"><span style="font-family: arial;"><br></span></p>
<p class="MsoNormal"><span style="font-family: arial;"> P/S: bài viết ko tránh thiếu sót. Bạn nào phát hiện có lỗi chỗ nào xin góp ý</span></p>
<p class="MsoNormal"><span style="font-family: arial;">Thân!<br></span></p></div><div class="commands"><a href="http://courses.fit.hcmus.edu.vn/mod/forum/discuss.php?d=74914#p264147"> Xem bài được phúc đáp </a> | <a href="http://courses.fit.hcmus.edu.vn/mod/forum/post.php?reply=264160"> Phúc đáp</a></div></td></tr></tbody></table>

<div class="indent"><a name="unread"></a><a id="p264166"></a><table class="forumpost unread" cellspacing="0"><tbody><tr class="header"><td class="picture left"><a href="http://courses.fit.hcmus.edu.vn/user/view.php?id=14286&amp;course=1085"><img class="userpicture defaultuserpic" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/f2.png" alt="Picture of Trần Công Nghĩa" width="35" height="35"></a></td><td class="topic"><div class="subject">Trả lời: Transaction và các vấn đề trong truy xuất DL đồng thời!</div><div class="author">Bởi <a href="http://courses.fit.hcmus.edu.vn/user/view.php?id=14286&amp;course=1085">Trần Công Nghĩa</a> - Thứ bảy,  16 Tháng tư 2011, 04:40 PM</div></td></tr><tr><td class="left side">&nbsp;</td><td class="content">
<div class="posting"> Chà ví dụ khá chi tiết, Nếu có file.sql cho anh em chạy thử luôn thì tốt quá !!! thank bạn Phú nha!<img title="smile" alt="smile" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/smiley.gif"> </div><div class="commands"><a href="http://courses.fit.hcmus.edu.vn/mod/forum/discuss.php?d=74914#p264160"> Xem bài được phúc đáp </a> | <a href="http://courses.fit.hcmus.edu.vn/mod/forum/post.php?reply=264166"> Phúc đáp</a></div></td></tr></tbody></table>

</div>
<div class="indent"><a name="unread"></a><a id="p264425"></a><table class="forumpost unread" cellspacing="0"><tbody><tr class="header"><td class="picture left"><a href="http://courses.fit.hcmus.edu.vn/user/view.php?id=14265&amp;course=1085"><img class="userpicture defaultuserpic" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/f2.png" alt="Picture of Tô Gia Diệu" width="35" height="35"></a></td><td class="topic"><div class="subject">Trả lời: Transaction và các vấn đề trong truy xuất DL đồng thời!</div><div class="author">Bởi <a href="http://courses.fit.hcmus.edu.vn/user/view.php?id=14265&amp;course=1085">Tô Gia Diệu</a> - Chủ nhật,  17 Tháng tư 2011, 06:42 PM</div></td></tr><tr><td class="left side">&nbsp;</td><td class="content">
<div class="posting">Phú cho mình hỏi về cái lỗi Non- repeatable Read 
với, mình vẫn chưa hiểu rõ về cái này. Theo mình nghĩ thì khi T2 update 
lại dữ liệu thì sau đó T1 đọc  được dữ liệu mới là đúng rồi, mà không 
biết vì sao lại bị cho là lỗi? </div><div class="commands"><a href="http://courses.fit.hcmus.edu.vn/mod/forum/discuss.php?d=74914#p264160"> Xem bài được phúc đáp </a> | <a href="http://courses.fit.hcmus.edu.vn/mod/forum/post.php?reply=264425"> Phúc đáp</a></div></td></tr></tbody></table>

<div class="indent"><a name="unread"></a><a id="p264514"></a><table class="forumpost unread" cellspacing="0"><tbody><tr class="header"><td class="picture left"><a href="http://courses.fit.hcmus.edu.vn/user/view.php?id=14482&amp;course=1085"><img class="userpicture" src="Transaction%20v%C3%A0%20c%C3%A1c%20v%E1%BA%A5n%20%C4%91%E1%BB%81%20trong%20truy%20xu%E1%BA%A5t%20DL%20%C4%91%E1%BB%93ng%20th%E1%BB%9Di%21_files/f2.jpg" alt="Picture of Trần Phú" width="35" height="35"></a></td><td class="topic"><div class="subject">Trả lời: Transaction và các vấn đề trong truy xuất DL đồng thời!</div><div class="author">Bởi <a href="http://courses.fit.hcmus.edu.vn/user/view.php?id=14482&amp;course=1085">Trần Phú</a> - Chủ nhật,  17 Tháng tư 2011, 09:42 PM</div></td></tr><tr><td class="left side">&nbsp;</td><td class="content">
<div class="posting">Hi Diệu!<br>Vấn đề ở đây là DBMS sẽ lấy giá trị 
nào? Tùy theo nó được set isolation level như thế nào! Trong trường hợp 
này, nếu ta set isolation level là SERIALIZABLE và REPEATABLE READ, thì 
DBMS sẽ trả về giá trị cũ. Còn nếu ta set isolation level là READ 
COMMITED và READ UNCOMMITED thì DBMS sẽ trả về giá trị bị update!<br>Rõ ràng 2 kết quả sẽ khác nhau!<br>Thân!<br> </div><div class="commands"><a href="http://courses.fit.hcmus.edu.vn/mod/forum/discuss.php?d=74914#p264425"> Xem bài được phúc đáp </a> | <a href="http://courses.fit.hcmus.edu.vn/mod/forum/post.php?reply=264514"> Phúc đáp</a></div></td></tr></tbody></table>

</div>
</div>
</div>
</div><div id="footer"><p class="helplink"></p><hr><div class="logininfo"><a href="http://courses.fit.hcmus.edu.vn/user/view.php?id=14602&amp;course=1085">Huỳnh Công Toàn</a> đã đăng nhập  (<a href="http://courses.fit.hcmus.edu.vn/login/logout.php?sesskey=Ud5phbhFMr">Đăng xuất</a>)</div><div class="homelink"><a href="http://courses.fit.hcmus.edu.vn/course/view.php?id=1085">PTUDWEB-CNTN2008</a></div></div>
</div>


</body></html>